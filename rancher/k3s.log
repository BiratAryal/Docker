time="2022-06-23T10:33:27Z" level=info msg="Starting k3s v1.23.6+k3s1 (418c3fa8)"
time="2022-06-23T10:33:27Z" level=info msg="Managed etcd cluster initializing"
time="2022-06-23T10:33:27Z" level=info msg="generated self-signed CA certificate CN=k3s-client-ca@1655980407: notBefore=2022-06-23 10:33:27.215284234 +0000 UTC notAfter=2032-06-20 10:33:27.215284234 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=system:admin,O=system:masters signed by CN=k3s-client-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=system:kube-controller-manager signed by CN=k3s-client-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=system:kube-scheduler signed by CN=k3s-client-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=system:apiserver,O=system:masters signed by CN=k3s-client-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=system:kube-proxy signed by CN=k3s-client-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=system:k3s-controller signed by CN=k3s-client-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=k3s-cloud-controller-manager signed by CN=k3s-client-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="generated self-signed CA certificate CN=k3s-server-ca@1655980407: notBefore=2022-06-23 10:33:27.304704621 +0000 UTC notAfter=2032-06-20 10:33:27.304704621 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=kube-apiserver signed by CN=k3s-server-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="generated self-signed CA certificate CN=k3s-request-header-ca@1655980407: notBefore=2022-06-23 10:33:27.324246661 +0000 UTC notAfter=2032-06-20 10:33:27.324246661 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=system:auth-proxy signed by CN=k3s-request-header-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="generated self-signed CA certificate CN=etcd-server-ca@1655980407: notBefore=2022-06-23 10:33:27.346363275 +0000 UTC notAfter=2032-06-20 10:33:27.346363275 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=etcd-server signed by CN=etcd-server-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=etcd-client signed by CN=etcd-server-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="generated self-signed CA certificate CN=etcd-peer-ca@1655980407: notBefore=2022-06-23 10:33:27.370551946 +0000 UTC notAfter=2032-06-20 10:33:27.370551946 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=etcd-peer signed by CN=etcd-peer-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="Starting etcd for new cluster"
{"level":"info","ts":"2022-06-23T10:33:27.540Z","caller":"embed/etcd.go:131","msg":"configuring peer listeners","listen-peer-urls":["https://172.19.0.2:2380"]}
{"level":"info","ts":"2022-06-23T10:33:27.540Z","caller":"embed/etcd.go:479","msg":"starting with peer TLS","tls-info":"cert = /var/lib/rancher/k3s/server/tls/etcd/peer-server-client.crt, key = /var/lib/rancher/k3s/server/tls/etcd/peer-server-client.key, client-cert=, client-key=, trusted-ca = /var/lib/rancher/k3s/server/tls/etcd/peer-ca.crt, client-cert-auth = true, crl-file = ","cipher-suites":[]}
{"level":"info","ts":"2022-06-23T10:33:27.543Z","caller":"embed/etcd.go:139","msg":"configuring client listeners","listen-client-urls":["https://127.0.0.1:2379","https://172.19.0.2:2379"]}
{"level":"info","ts":"2022-06-23T10:33:27.544Z","caller":"embed/etcd.go:308","msg":"starting an etcd server","etcd-version":"3.5.4","git-sha":"Not provided (use ./build instead of go build)","go-version":"go1.17.5","go-os":"linux","go-arch":"amd64","max-cpu-set":2,"max-cpu-available":2,"member-initialized":false,"name":"local-node-7d8a50ca","data-dir":"/var/lib/rancher/k3s/server/db/etcd","wal-dir":"","wal-dir-dedicated":"","member-dir":"/var/lib/rancher/k3s/server/db/etcd/member","force-new-cluster":false,"heartbeat-interval":"500ms","election-timeout":"5s","initial-election-tick-advance":true,"snapshot-count":100000,"snapshot-catchup-entries":5000,"initial-advertise-peer-urls":["https://172.19.0.2:2380"],"listen-peer-urls":["https://172.19.0.2:2380"],"advertise-client-urls":["https://172.19.0.2:2379"],"listen-client-urls":["https://127.0.0.1:2379","https://172.19.0.2:2379"],"listen-metrics-urls":["http://127.0.0.1:2381"],"cors":["*"],"host-whitelist":["*"],"initial-cluster":"local-node-7d8a50ca=https://172.19.0.2:2380","initial-cluster-state":"new","initial-cluster-token":"etcd-cluster","quota-size-bytes":2147483648,"pre-vote":true,"initial-corrupt-check":true,"corrupt-check-time-interval":"0s","auto-compaction-mode":"","auto-compaction-retention":"0s","auto-compaction-interval":"0s","discovery-url":"","discovery-proxy":"","downgrade-check-interval":"5s"}
{"level":"warn","ts":1655980407.5445065,"caller":"fileutil/fileutil.go:57","msg":"check file permission","error":"directory \"/var/lib/rancher/k3s/server/db/etcd\" exist, but the permission is \"drwxrwxrwx\". The recommended permission is \"-rwx------\" to prevent possible unprivileged access to the data"}
time="2022-06-23T10:33:27Z" level=info msg="certificate CN=k3s,O=k3s signed by CN=k3s-server-ca@1655980407: notBefore=2022-06-23 10:33:27 +0000 UTC notAfter=2023-06-23 10:33:27 +0000 UTC"
time="2022-06-23T10:33:27Z" level=info msg="Active TLS secret  (ver=) (count 10): map[listener.cattle.io/cn-10.43.0.1:10.43.0.1 listener.cattle.io/cn-127.0.0.1:127.0.0.1 listener.cattle.io/cn-172.19.0.2:172.19.0.2 listener.cattle.io/cn-__1-f16284:::1 listener.cattle.io/cn-kubernetes:kubernetes listener.cattle.io/cn-kubernetes.default:kubernetes.default listener.cattle.io/cn-kubernetes.default.svc:kubernetes.default.svc listener.cattle.io/cn-kubernetes.default.svc.cluster.local:kubernetes.default.svc.cluster.local listener.cattle.io/cn-local-node:local-node listener.cattle.io/cn-localhost:localhost listener.cattle.io/fingerprint:SHA1=87A3B8777382632C14DAC2C7A743A4213BD2CBB3]"
{"level":"info","ts":"2022-06-23T10:33:27.556Z","caller":"etcdserver/backend.go:81","msg":"opened backend db","path":"/var/lib/rancher/k3s/server/db/etcd/member/snap/db","took":"1.846227ms"}
{"level":"info","ts":"2022-06-23T10:33:27.576Z","caller":"wal/wal.go:282","msg":"closing WAL to release flock and retry directory renaming","from":"/var/lib/rancher/k3s/server/db/etcd/member/wal.tmp","to":"/var/lib/rancher/k3s/server/db/etcd/member/wal"}
{"level":"info","ts":"2022-06-23T10:33:27.592Z","caller":"etcdserver/raft.go:448","msg":"starting local member","local-member-id":"d7380397c3ec4b90","cluster-id":"17d3753d35ddbc03"}
{"level":"info","ts":"2022-06-23T10:33:27.592Z","logger":"raft","caller":"etcdserver/zap_raft.go:77","msg":"d7380397c3ec4b90 switched to configuration voters=()"}
{"level":"info","ts":"2022-06-23T10:33:27.592Z","logger":"raft","caller":"etcdserver/zap_raft.go:77","msg":"d7380397c3ec4b90 became follower at term 0"}
{"level":"info","ts":"2022-06-23T10:33:27.592Z","logger":"raft","caller":"etcdserver/zap_raft.go:77","msg":"newRaft d7380397c3ec4b90 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]"}
{"level":"info","ts":"2022-06-23T10:33:27.592Z","logger":"raft","caller":"etcdserver/zap_raft.go:77","msg":"d7380397c3ec4b90 became follower at term 1"}
{"level":"info","ts":"2022-06-23T10:33:27.592Z","logger":"raft","caller":"etcdserver/zap_raft.go:77","msg":"d7380397c3ec4b90 switched to configuration voters=(15508149267212290960)"}
{"level":"warn","ts":1655980407.5929928,"caller":"fileutil/fileutil.go:57","msg":"check file permission","error":"directory \"/var/lib/rancher/k3s/server/db/etcd/member\" exist, but the permission is \"drwxrwxrwx\". The recommended permission is \"-rwx------\" to prevent possible unprivileged access to the data"}
{"level":"warn","ts":"2022-06-23T10:33:27.596Z","caller":"auth/store.go:1220","msg":"simple token is not cryptographically signed"}
{"level":"info","ts":"2022-06-23T10:33:27.597Z","caller":"mvcc/kvstore.go:415","msg":"kvstore restored","current-rev":1}
{"level":"info","ts":"2022-06-23T10:33:27.598Z","caller":"etcdserver/quota.go:94","msg":"enabled backend quota with default value","quota-name":"v3-applier","quota-size-bytes":2147483648,"quota-size":"2.1 GB"}
{"level":"info","ts":"2022-06-23T10:33:27.602Z","caller":"etcdserver/server.go:851","msg":"starting etcd server","local-member-id":"d7380397c3ec4b90","local-server-version":"3.5.4","cluster-version":"to_be_decided"}
{"level":"info","ts":"2022-06-23T10:33:27.604Z","caller":"etcdserver/server.go:736","msg":"started as single-node; fast-forwarding election ticks","local-member-id":"d7380397c3ec4b90","forward-ticks":9,"forward-duration":"4.5s","election-ticks":10,"election-timeout":"5s"}
{"level":"info","ts":"2022-06-23T10:33:27.606Z","caller":"embed/etcd.go:688","msg":"starting with client TLS","tls-info":"cert = /var/lib/rancher/k3s/server/tls/etcd/server-client.crt, key = /var/lib/rancher/k3s/server/tls/etcd/server-client.key, client-cert=, client-key=, trusted-ca = /var/lib/rancher/k3s/server/tls/etcd/server-ca.crt, client-cert-auth = true, crl-file = ","cipher-suites":[]}
{"level":"info","ts":"2022-06-23T10:33:27.606Z","caller":"embed/etcd.go:277","msg":"now serving peer/client/metrics","local-member-id":"d7380397c3ec4b90","initial-advertise-peer-urls":["https://172.19.0.2:2380"],"listen-peer-urls":["https://172.19.0.2:2380"],"advertise-client-urls":["https://172.19.0.2:2379"],"listen-client-urls":["https://127.0.0.1:2379","https://172.19.0.2:2379"],"listen-metrics-urls":["http://127.0.0.1:2381"]}
{"level":"info","ts":"2022-06-23T10:33:27.608Z","logger":"raft","caller":"etcdserver/zap_raft.go:77","msg":"d7380397c3ec4b90 switched to configuration voters=(15508149267212290960)"}
{"level":"info","ts":"2022-06-23T10:33:27.608Z","caller":"membership/cluster.go:421","msg":"added member","cluster-id":"17d3753d35ddbc03","local-member-id":"d7380397c3ec4b90","added-peer-id":"d7380397c3ec4b90","added-peer-peer-urls":["https://172.19.0.2:2380"]}
{"level":"info","ts":"2022-06-23T10:33:27.608Z","caller":"embed/etcd.go:581","msg":"serving peer traffic","address":"172.19.0.2:2380"}
{"level":"info","ts":"2022-06-23T10:33:27.608Z","caller":"embed/etcd.go:553","msg":"cmux::serve","address":"172.19.0.2:2380"}
{"level":"info","ts":"2022-06-23T10:33:27.609Z","caller":"embed/etcd.go:763","msg":"serving metrics","address":"http://127.0.0.1:2381"}
time="2022-06-23T10:33:27Z" level=info msg="Running kube-apiserver --advertise-port=6443 --allow-privileged=true --anonymous-auth=false --api-audiences=https://kubernetes.default.svc.cluster.local,k3s --authorization-mode=Node,RBAC --bind-address=127.0.0.1 --cert-dir=/var/lib/rancher/k3s/server/tls/temporary-certs --client-ca-file=/var/lib/rancher/k3s/server/tls/client-ca.crt --enable-admission-plugins=NodeRestriction --etcd-cafile=/var/lib/rancher/k3s/server/tls/etcd/server-ca.crt --etcd-certfile=/var/lib/rancher/k3s/server/tls/etcd/client.crt --etcd-keyfile=/var/lib/rancher/k3s/server/tls/etcd/client.key --etcd-servers=https://127.0.0.1:2379 --feature-gates=JobTrackingWithFinalizers=true --insecure-port=0 --kubelet-certificate-authority=/var/lib/rancher/k3s/server/tls/server-ca.crt --kubelet-client-certificate=/var/lib/rancher/k3s/server/tls/client-kube-apiserver.crt --kubelet-client-key=/var/lib/rancher/k3s/server/tls/client-kube-apiserver.key --profiling=false --proxy-client-cert-file=/var/lib/rancher/k3s/server/tls/client-auth-proxy.crt --proxy-client-key-file=/var/lib/rancher/k3s/server/tls/client-auth-proxy.key --requestheader-allowed-names=system:auth-proxy --requestheader-client-ca-file=/var/lib/rancher/k3s/server/tls/request-header-ca.crt --requestheader-extra-headers-prefix=X-Remote-Extra- --requestheader-group-headers=X-Remote-Group --requestheader-username-headers=X-Remote-User --secure-port=6444 --service-account-issuer=https://kubernetes.default.svc.cluster.local --service-account-key-file=/var/lib/rancher/k3s/server/tls/service.key --service-account-signing-key-file=/var/lib/rancher/k3s/server/tls/service.key --service-cluster-ip-range=10.43.0.0/16 --service-node-port-range=30000-32767 --storage-backend=etcd3 --tls-cert-file=/var/lib/rancher/k3s/server/tls/serving-kube-apiserver.crt --tls-private-key-file=/var/lib/rancher/k3s/server/tls/serving-kube-apiserver.key"
time="2022-06-23T10:33:27Z" level=info msg="Running kube-scheduler --authentication-kubeconfig=/var/lib/rancher/k3s/server/cred/scheduler.kubeconfig --authorization-kubeconfig=/var/lib/rancher/k3s/server/cred/scheduler.kubeconfig --bind-address=127.0.0.1 --kubeconfig=/var/lib/rancher/k3s/server/cred/scheduler.kubeconfig --profiling=false --secure-port=10259"
time="2022-06-23T10:33:27Z" level=info msg="Running kube-controller-manager --allocate-node-cidrs=true --authentication-kubeconfig=/var/lib/rancher/k3s/server/cred/controller.kubeconfig --authorization-kubeconfig=/var/lib/rancher/k3s/server/cred/controller.kubeconfig --bind-address=127.0.0.1 --cluster-cidr=10.42.0.0/16 --cluster-signing-kube-apiserver-client-cert-file=/var/lib/rancher/k3s/server/tls/client-ca.crt --cluster-signing-kube-apiserver-client-key-file=/var/lib/rancher/k3s/server/tls/client-ca.key --cluster-signing-kubelet-client-cert-file=/var/lib/rancher/k3s/server/tls/client-ca.crt --cluster-signing-kubelet-client-key-file=/var/lib/rancher/k3s/server/tls/client-ca.key --cluster-signing-kubelet-serving-cert-file=/var/lib/rancher/k3s/server/tls/server-ca.crt --cluster-signing-kubelet-serving-key-file=/var/lib/rancher/k3s/server/tls/server-ca.key --cluster-signing-legacy-unknown-cert-file=/var/lib/rancher/k3s/server/tls/server-ca.crt --cluster-signing-legacy-unknown-key-file=/var/lib/rancher/k3s/server/tls/server-ca.key --configure-cloud-routes=false --controllers=*,-service,-route,-cloud-node-lifecycle --feature-gates=JobTrackingWithFinalizers=true --kubeconfig=/var/lib/rancher/k3s/server/cred/controller.kubeconfig --profiling=false --root-ca-file=/var/lib/rancher/k3s/server/tls/server-ca.crt --secure-port=10257 --service-account-private-key-file=/var/lib/rancher/k3s/server/tls/service.key --use-service-account-credentials=true"
time="2022-06-23T10:33:27Z" level=info msg="Running cloud-controller-manager --allocate-node-cidrs=true --authentication-kubeconfig=/var/lib/rancher/k3s/server/cred/cloud-controller.kubeconfig --authorization-kubeconfig=/var/lib/rancher/k3s/server/cred/cloud-controller.kubeconfig --bind-address=127.0.0.1 --cloud-provider=k3s --cluster-cidr=10.42.0.0/16 --configure-cloud-routes=false --kubeconfig=/var/lib/rancher/k3s/server/cred/cloud-controller.kubeconfig --node-status-update-frequency=1m0s --port=0 --profiling=false"
time="2022-06-23T10:33:27Z" level=info msg="Node token is available at /var/lib/rancher/k3s/server/token"
time="2022-06-23T10:33:27Z" level=fatal msg="symlink /var/lib/rancher/k3s/server/token /var/lib/rancher/k3s/server/node-token: operation not supported"
